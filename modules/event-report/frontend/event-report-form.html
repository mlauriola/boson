<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Report - Administration</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="event-report-form.css">
    <script>
        // Set active page for sidebar component
        window.ACTIVE_PAGE = 'event-reports';
        window.PAGE_TITLE = 'New Event Report';
        window.PAGE_DESCRIPTION = 'Submit a new event report with issues, damaged items, and suggestions.';
    </script>
    <script src="/common.js"></script>
    <script src="/header-component.js"></script>
    <script src="/sidebar-component.js"></script>
    <script src="/maintenance-banner.js"></script>
</head>

<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="header"></header>

        <div class="layout-wrapper">
            <!-- Sidebar Navigation -->
            <aside class="sidebar" id="sidebar"></aside>

            <!-- Main content -->
            <main class="main-content">
                <div style="padding: 20px; flex: 1; overflow-y: auto;">

                    <div id="messageArea" class="message" style="display: none;"></div>

                    <div id="wizard-container" class="card" style="max-width: 900px; margin: 0 auto; padding: 20px;">
                        <div class="mb-3">
                            <a href="event-reports.html" class="btn btn-secondary btn-sm">&larr; Back to List</a>
                        </div>

                        <!-- SECTION 1: General Details -->
                        <div id="section-1" class="wizard-section">
                            <h2 class="section-title">1. Event General Details</h2>
                            <div class="form-group">
                                <label for="eventName">Event Name <span class="required">*</span></label>
                                <input type="text" id="eventName" class="form-control section1-input" required>
                            </div>
                            <div class="form-group">
                                <label for="location">Location <span class="required">*</span></label>
                                <input type="text" id="location" class="form-control section1-input" required>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="dateFrom">From: <span class="required">*</span></label>
                                    <input type="date" id="dateFrom" class="form-control section1-input" required>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="dateTo">To: <span class="required">*</span></label>
                                    <input type="date" id="dateTo" class="form-control section1-input" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="manager">Manager <span class="required">*</span></label>
                                <input type="text" id="manager" class="form-control section1-input" required>
                            </div>
                            <div class="form-group">
                                <label for="summary">Summary <span class="required">*</span></label>
                                <textarea id="summary" class="form-control section1-input" rows="4" required></textarea>
                            </div>
                            <div class="form-group">
                                <label for="servicesProvided">Services Provided <span class="required">*</span></label>
                                <textarea id="servicesProvided" class="form-control section1-input" rows="4"
                                    required></textarea>
                            </div>

                            <div class="wizard-actions">
                                <button type="button" class="btn btn-primary"
                                    onclick="EventManager.nextSection(2)">Next: Issues</button>
                            </div>
                        </div>

                        <!-- SECTION 2: Issues -->
                        <div id="section-2" class="wizard-section hidden">
                            <h2 class="section-title">2. Issues & Solutions</h2>
                            <p class="text-muted">Click "Add Issue" to report problems encountered.</p>

                            <div id="issues-container"></div>

                            <button type="button" class="btn btn-success mb-3" onclick="EventManager.addIssue()">+ Add
                                Issue</button>

                            <div class="wizard-actions">
                                <button type="button" class="btn btn-secondary"
                                    onclick="EventManager.prevSection(1)">Back</button>
                                <button type="button" class="btn btn-primary"
                                    onclick="EventManager.nextSection(3)">Next: Damaged Items</button>
                            </div>
                        </div>

                        <!-- SECTION 3: Damaged Items -->
                        <div id="section-3" class="wizard-section hidden">
                            <h2 class="section-title">3. Damaged or Non-Working Items</h2>
                            <p class="text-muted">List any items that are broken or not functioning.</p>

                            <div id="damaged-container"></div>

                            <button type="button" class="btn btn-success mb-3" onclick="EventManager.addDamagedItem()">+
                                Add Damaged Item</button>

                            <div class="wizard-actions">
                                <button type="button" class="btn btn-secondary"
                                    onclick="EventManager.prevSection(2)">Back</button>
                                <button type="button" class="btn btn-primary"
                                    onclick="EventManager.nextSection(4)">Next: Missing Items</button>
                            </div>
                        </div>

                        <!-- SECTION 4: Missing Items -->
                        <div id="section-4" class="wizard-section hidden">
                            <h2 class="section-title">4. Missing Items</h2>

                            <div id="missing-container"></div>

                            <button type="button" class="btn btn-success mb-3" onclick="EventManager.addMissingItem()">+
                                Add Missing Item</button>

                            <div class="wizard-actions">
                                <button type="button" class="btn btn-secondary"
                                    onclick="EventManager.prevSection(3)">Back</button>
                                <button type="button" class="btn btn-primary"
                                    onclick="EventManager.nextSection(5)">Next: Suggestions</button>
                            </div>
                        </div>

                        <!-- SECTION 5: Suggestions -->
                        <div id="section-5" class="wizard-section hidden">
                            <h2 class="section-title">5. Suggestions for Improvement</h2>

                            <div class="form-group"><label>Logistics:</label><textarea id="suggLogistics"
                                    class="form-control section5-input" data-field="logistics"></textarea></div>
                            <div class="form-group"><label>Operations:</label><textarea id="suggOperations"
                                    class="form-control section5-input" data-field="operations"></textarea></div>
                            <div class="form-group"><label>Communication:</label><textarea id="suggCommunication"
                                    class="form-control section5-input" data-field="communication"></textarea></div>
                            <div class="form-group"><label>Materials:</label><textarea id="suggMaterials"
                                    class="form-control section5-input" data-field="materials"></textarea></div>
                            <div class="form-group"><label>Software:</label><textarea id="suggSoftware"
                                    class="form-control section5-input" data-field="software"></textarea></div>

                            <div class="wizard-actions">
                                <button type="button" class="btn btn-secondary"
                                    onclick="EventManager.prevSection(4)">Back</button>
                                <button type="button" class="btn btn-primary"
                                    onclick="EventManager.nextSection(6)">Next: Finalize</button>
                            </div>
                        </div>

                        <!-- SECTION 6: Finalize -->
                        <div id="section-6" class="wizard-section hidden">
                            <h2 class="section-title">6. Overview & Submit</h2>

                            <div class="form-group">
                                <label>Final Notes (Optional):</label>
                                <textarea id="finalNotes" class="form-control section6-input" rows="3"></textarea>
                            </div>

                            <div id="summary-preview" class="summary-box">
                                <h4>Report Summary</h4>
                                <div id="summary-content"></div>
                            </div>

                            <div class="wizard-actions">
                                <button type="button" class="btn btn-secondary"
                                    onclick="EventManager.prevSection(5)">Back</button>
                                <button type="button" class="btn btn-primary" style="background-color: #0d6efd;"
                                    onclick="EventManager.submitReport()">Submit Final Report</button>
                            </div>
                        </div>

                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="event-report-form.js"></script>
</body>

</html>