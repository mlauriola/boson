<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Versioning - Commonwealth Games Glasgow 2026</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="help-modal.css?v=4">
  <!-- Quill.js CSS -->
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <script>
    // Set active page for sidebar component
    window.ACTIVE_PAGE = 'versioning';
  </script>
  <script src="common.js"></script>
  <script src="header-component.js?v=9"></script>
  <script src="sidebar-component.js?v=14"></script>
  <script src="maintenance-banner.js"></script>
</head>

<body>
  <div class="dashboard-container">
    <!-- Header -->
    <header class="header"></header>

    <div class="layout-wrapper">
      <!-- Sidebar Navigation -->
      <aside class="sidebar" id="sidebar"></aside>

      <!-- Main content -->
      <main class="main-content">
        <!-- Versioning section -->
        <section class="users-section">
          <!-- Search Section -->
          <div class="filters-section" style="display: block;">
            <div class="search-bar">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                class="search-icon">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
              </svg>
              <input type="text" id="searchInput" placeholder="Search by release, author, description..."
                class="search-input">
              <button id="clearSearch" class="btn-clear" style="display: none;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
              </button>
            </div>
          </div>

          <!-- Message area with Help button -->


          <!-- Versions Table Container -->
          <div class="table-container">
            <div class="section-header">
              <h2>Versions List</h2>
              <div class="header-actions">
                <button class="btn btn-danger" id="deleteSelectedBtn" disabled>
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="margin-right: 8px;">
                    <polyline points="3 6 5 6 21 6"></polyline>
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                  </svg>
                  Delete Selected
                </button>
                <button class="btn btn-primary" id="addVersionBtn">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="margin-right: 8px;">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                  </svg>
                  Add Version
                </button>
                <button class="btn btn-secondary" id="publishBtn" disabled
                  style="background-color: #6b1d9e; border-color: #6b1d9e;">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="margin-right: 8px;">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="17 8 12 3 7 8"></polyline>
                    <line x1="12" y1="3" x2="12" y2="15"></line>
                  </svg>
                  Publish
                </button>
              </div>
            </div>
            <div class="table-wrapper">
              <table id="versionsTable">
                <thead>
                  <tr>
                    <th class="radio-col"></th>
                    <th class="sortable" data-column="Code">
                      Code
                      <span class="sort-icon"></span>
                    </th>
                    <th>Status</th>
                    <th class="sortable" data-column="Release">
                      Release
                      <span class="sort-icon"></span>
                    </th>
                    <th class="sortable" data-column="DateUpd">
                      Date Updated
                      <span class="sort-icon"></span>
                    </th>
                    <th class="sortable" data-column="Author">
                      Author
                      <span class="sort-icon"></span>
                    </th>
                    <th>Description</th>
                    <th>Files</th>
                    <th class="actions-col">Actions</th>
                  </tr>
                </thead>
                <tbody id="versionsTableBody">
                  <tr>
                    <td colspan="9" style="text-align: center; padding: 20px;">Loading versions...</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- Add Version Modal -->
    <div id="addModal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Add New Version</h2>
          <span class="close" id="closeAddModal">&times;</span>
        </div>

        <div class="modal-body">
          <form id="addVersionForm">
            <div class="form-group">
              <label for="addRelease">Release *</label>
              <input type="text" id="addRelease" name="Release" maxlength="40" required
                placeholder="Enter release name">
            </div>

            <div class="form-group">
              <label for="addDescription">Description</label>
              <textarea id="addDescription" name="Description" rows="4" maxlength="4000"
                placeholder="Enter description"></textarea>
            </div>

            <div class="form-group">
              <label for="addMessage">Release Message</label>
              <div id="addMessageEditor" style="background: white; min-height: 200px;"></div>
              <input type="hidden" id="addMessage" name="Message">
              <div style="font-size: 0.85rem; color: #666; margin-top: 8px;">This message will be displayed to users in
                the public view</div>
            </div>

            <div class="form-group" style="display: none;">
              <label for="addFileExcel">Excel File Path</label>
              <input type="text" id="addFileExcel" name="File_Excel" maxlength="510" placeholder="Path to Excel file">
            </div>

            <div class="form-group" style="display: none;">
              <label for="addFileODF">ODF File Path</label>
              <input type="text" id="addFileODF" name="File_ODF" maxlength="510" placeholder="Path to ODF file">
            </div>
          </form>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="cancelAdd">Cancel</button>
          <button type="submit" class="btn btn-primary" form="addVersionForm">Add Version</button>
        </div>
      </div>
    </div>

    <!-- Edit Version Modal -->
    <div id="editModal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Edit Version</h2>
          <span class="close" id="closeEditModal">&times;</span>
        </div>

        <div class="modal-body">
          <form id="editVersionForm">
            <input type="hidden" id="editOriginalCode" name="originalCode">

            <div class="form-group">
              <label for="editRelease">Release</label>
              <input type="text" id="editRelease" name="Release" maxlength="40" readonly
                style="background-color: #f0f0f0; cursor: not-allowed;">
            </div>

            <div class="form-group">
              <label for="editPublished">Published</label>
              <input type="text" id="editPublished" name="Published" readonly
                style="background-color: #f0f0f0; cursor: not-allowed;">
            </div>

            <div class="form-group">
              <label for="editAuthorName">Author</label>
              <input type="text" id="editAuthorName" name="AuthorName" readonly
                style="background-color: #f0f0f0; cursor: not-allowed;">
            </div>

            <div class="form-group">
              <label for="editDescription">Description</label>
              <textarea id="editDescription" name="Description" rows="4" maxlength="4000"
                placeholder="Enter description"></textarea>
            </div>

            <div class="form-group">
              <label for="editMessage">Release Message</label>
              <div id="editMessageEditor" style="background: white; min-height: 200px;"></div>
              <input type="hidden" id="editMessage" name="Message">
              <div style="font-size: 0.85rem; color: #666; margin-top: 8px;">This message will be displayed to users in
                the public view</div>
            </div>

            <div class="form-group" style="display: none;">
              <label for="editFileExcel">Excel File Path</label>
              <input type="text" id="editFileExcel" name="File_Excel" maxlength="510" placeholder="Path to Excel file">
            </div>

            <div class="form-group" style="display: none;">
              <label for="editFileODF">ODF File Path</label>
              <input type="text" id="editFileODF" name="File_ODF" maxlength="510" placeholder="Path to ODF file">
            </div>
          </form>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="cancelEdit">Cancel</button>
          <button type="submit" class="btn btn-primary" form="editVersionForm">Update Version</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Delete Version Confirmation Modal -->
  <div id="deleteVersionModal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 550px;">
      <div class="modal-header">
        <h2>Delete Version</h2>
        <span class="close" id="closeDeleteVersion">&times;</span>
      </div>
      <div class="modal-body" style="padding: 20px;">
        <div style="display: flex; align-items: flex-start; margin-bottom: 20px;">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#dc3545" stroke-width="2"
            style="margin-right: 15px; flex-shrink: 0;">
            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
            <line x1="12" y1="9" x2="12" y2="13"></line>
            <line x1="12" y1="17" x2="12.01" y2="17"></line>
          </svg>
          <div>
            <h3 style="margin: 0 0 10px 0; color: #333;">Confirm Version Deletion</h3>
            <p style="margin: 0 0 10px 0; color: #666; line-height: 1.5;">
              You are about to delete version <strong id="deleteVersionName" style="color: #dc3545;"></strong>.
            </p>
            <p style="margin: 0; color: #666; line-height: 1.5;">
              <strong style="color: #dc3545;">Warning:</strong> This action is permanent and:
            </p>
            <ul style="margin: 10px 0 0 20px; color: #666; line-height: 1.8;">
              <li>All <strong>data associated with this version</strong> will be permanently lost</li>
              <li>This version will be <strong>removed from the history</strong></li>
              <li>This action <strong>cannot be undone</strong></li>
            </ul>
          </div>
        </div>
        <p style="margin: 0 0 20px 0; color: #666; font-size: 14px;">
          Are you sure you want to delete this version?
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" id="cancelDeleteVersion">Cancel</button>
        <button type="button" class="btn btn-danger" id="confirmDeleteVersion">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            style="margin-right: 8px;">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
          </svg>
          Yes, Delete Version
        </button>
      </div>
    </div>
  </div>

  <!-- Publish Working Version Warning Modal -->
  <div id="publishWorkingWarningModal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 550px;">
      <div class="modal-header">
        <h2>Publish Working Version</h2>
        <span class="close" id="closePublishWorkingWarning">&times;</span>
      </div>
      <div class="modal-body" style="padding: 20px;">
        <div style="display: flex; align-items: flex-start; margin-bottom: 20px;">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#dc3545" stroke-width="2"
            style="margin-right: 15px; flex-shrink: 0;">
            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
            <line x1="12" y1="9" x2="12" y2="13"></line>
            <line x1="12" y1="17" x2="12.01" y2="17"></line>
          </svg>
          <div>
            <h3 style="margin: 0 0 10px 0; color: #333;">Publishing Working Version</h3>
            <p style="margin: 0 0 10px 0; color: #666; line-height: 1.5;">
              You are about to publish the <strong style="color: #10bcc7;">current working version</strong>.
            </p>
            <p style="margin: 0; color: #666; line-height: 1.5;">
              <strong style="color: #dc3545;">Important:</strong> This means that:
            </p>
            <ul style="margin: 10px 0 0 20px; color: #666; line-height: 1.8;">
              <li>All <strong>modifications made in the back office</strong> will be immediately visible</li>
              <li><strong>Front-end users</strong> will see these changes <strong>instantly</strong></li>
              <li>Any <strong>work in progress</strong> will become public</li>
            </ul>
          </div>
        </div>
        <p style="margin: 0 0 20px 0; color: #666; font-size: 14px;">
          Do you want to continue with the publication process?
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" id="cancelPublishWorking">Cancel</button>
        <button type="button" class="btn btn-primary" id="confirmPublishWorking"
          style="background-color: #6b1d9e; border-color: #6b1d9e;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            style="margin-right: 8px;">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
          Yes, Continue
        </button>
      </div>
    </div>
  </div>

  <!-- Publish Confirmation Modal -->
  <div id="publishConfirmModal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 500px;">
      <div class="modal-header">
        <h2>Publish Version</h2>
        <span class="close" id="closePublishConfirm">&times;</span>
      </div>
      <div class="modal-body" style="padding: 20px;">
        <div style="display: flex; align-items: flex-start; margin-bottom: 20px;">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#6b1d9e" stroke-width="2"
            style="margin-right: 15px; flex-shrink: 0;">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="17 8 12 3 7 8"></polyline>
            <line x1="12" y1="3" x2="12" y2="15"></line>
          </svg>
          <div>
            <h3 style="margin: 0 0 10px 0; color: #333;">Confirm Version Publication</h3>
            <p style="margin: 0 0 10px 0; color: #666; line-height: 1.5;">
              You are about to publish version <strong id="publishVersionName" style="color: #6b1d9e;"></strong>.
            </p>
            <p style="margin: 0; color: #666; line-height: 1.5;">
              This action will:
            </p>
            <ul style="margin: 10px 0 0 20px; color: #666; line-height: 1.8;">
              <li>Set this version as the <strong>current published version</strong></li>
              <li>Automatically <strong>unpublish</strong> any previously published version</li>
              <li>Make this version data the <strong>active</strong> version for all front-end users</li>
            </ul>
          </div>
        </div>
        <p style="margin: 0 0 20px 0; color: #666; font-size: 14px;">
          Are you sure you want to proceed?
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" id="cancelPublish">Cancel</button>
        <button type="button" class="btn btn-primary" id="confirmPublish"
          style="background-color: #6b1d9e; border-color: #6b1d9e;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            style="margin-right: 8px;">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
          Yes, Publish Version
        </button>
      </div>
    </div>
  </div>

  <!-- Publish Progress Modal -->
  <div id="publishProgressModal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 600px;">
      <div class="modal-header">
        <h2>Publishing Version</h2>
        <span class="close" id="closePublishProgress">&times;</span>
      </div>
      <div class="modal-body" style="padding: 30px;">
        <div style="margin-bottom: 25px;">
          <h3 id="publishProgressTitle" style="margin: 0 0 10px 0; color: #333; font-size: 18px;">
            Publishing version <strong id="publishProgressVersionName" style="color: #6b1d9e;"></strong>
          </h3>
          <p style="margin: 0; color: #666; font-size: 14px;">
            Please wait while the system processes the publication...
          </p>
        </div>

        <!-- Progress Bar -->
        <div style="margin-bottom: 30px;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
            <span style="color: #666; font-size: 14px; font-weight: 500;">Progress</span>
            <span id="publishProgressPercent" style="color: #6b1d9e; font-size: 14px; font-weight: 600;">0%</span>
          </div>
          <div style="width: 100%; height: 8px; background-color: #e9ecef; border-radius: 4px; overflow: hidden;">
            <div id="publishProgressBar"
              style="width: 0%; height: 100%; background-color: #6b1d9e; transition: width 0.3s ease;"></div>
          </div>
        </div>

        <!-- Task List -->
        <div style="background-color: #f8f9fa; border-radius: 8px; padding: 20px;">
          <h4 style="margin: 0 0 15px 0; color: #333; font-size: 16px;">Publication Tasks</h4>
          <div id="publishTaskList">
            <!-- Task 1 -->
            <div class="publish-task" data-task="publish-flag"
              style="display: flex; align-items: flex-start; margin-bottom: 15px;">
              <div class="task-icon"
                style="width: 24px; height: 24px; margin-right: 12px; display: flex; align-items: center; justify-content: center;">
                <svg class="task-pending" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#999"
                  stroke-width="2">
                  <circle cx="12" cy="12" r="10"></circle>
                </svg>
                <svg class="task-loading" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#6b1d9e"
                  stroke-width="2" style="display: none;">
                  <circle cx="12" cy="12" r="10" stroke-dasharray="60" stroke-dashoffset="40"
                    style="animation: spin 1s linear infinite;">
                    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="1s"
                      repeatCount="indefinite" />
                  </circle>
                </svg>
                <svg class="task-complete" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#28a745"
                  stroke-width="2" style="display: none;">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="8 12 11 15 16 9"></polyline>
                </svg>
              </div>
              <div style="flex: 1;">
                <div style="color: #333; font-weight: 500; margin-bottom: 3px;">Activating publication flag</div>
                <div class="task-status" style="color: #999; font-size: 13px;">Waiting...</div>
              </div>
            </div>

            <!-- Task 2 -->
            <div class="publish-task" data-task="release-notes"
              style="display: flex; align-items: flex-start; margin-bottom: 15px;">
              <div class="task-icon"
                style="width: 24px; height: 24px; margin-right: 12px; display: flex; align-items: center; justify-content: center;">
                <svg class="task-pending" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#999"
                  stroke-width="2">
                  <circle cx="12" cy="12" r="10"></circle>
                </svg>
                <svg class="task-loading" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#6b1d9e"
                  stroke-width="2" style="display: none;">
                  <circle cx="12" cy="12" r="10" stroke-dasharray="60" stroke-dashoffset="40">
                    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="1s"
                      repeatCount="indefinite" />
                  </circle>
                </svg>
                <svg class="task-complete" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#28a745"
                  stroke-width="2" style="display: none;">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="8 12 11 15 16 9"></polyline>
                </svg>
              </div>
              <div style="flex: 1;">
                <div style="color: #333; font-weight: 500; margin-bottom: 3px;">Generating release notes</div>
                <div class="task-status" style="color: #999; font-size: 13px;">Waiting...</div>
              </div>
            </div>

            <!-- Task 3 -->
            <div class="publish-task" data-task="dt-codes"
              style="display: flex; align-items: flex-start; margin-bottom: 15px;">
              <div class="task-icon"
                style="width: 24px; height: 24px; margin-right: 12px; display: flex; align-items: center; justify-content: center;">
                <svg class="task-pending" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#999"
                  stroke-width="2">
                  <circle cx="12" cy="12" r="10"></circle>
                </svg>
                <svg class="task-loading" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#6b1d9e"
                  stroke-width="2" style="display: none;">
                  <circle cx="12" cy="12" r="10" stroke-dasharray="60" stroke-dashoffset="40">
                    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="1s"
                      repeatCount="indefinite" />
                  </circle>
                </svg>
                <svg class="task-complete" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#28a745"
                  stroke-width="2" style="display: none;">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="8 12 11 15 16 9"></polyline>
                </svg>
              </div>
              <div style="flex: 1;">
                <div style="color: #333; font-weight: 500; margin-bottom: 3px;">Generating DT_CODES export</div>
                <div class="task-status" style="color: #999; font-size: 13px;">Waiting...</div>
              </div>
            </div>

            <!-- Task 4 -->
            <div class="publish-task" data-task="excel-export" style="display: flex; align-items: flex-start;">
              <div class="task-icon"
                style="width: 24px; height: 24px; margin-right: 12px; display: flex; align-items: center; justify-content: center;">
                <svg class="task-pending" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#999"
                  stroke-width="2">
                  <circle cx="12" cy="12" r="10"></circle>
                </svg>
                <svg class="task-loading" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#6b1d9e"
                  stroke-width="2" style="display: none;">
                  <circle cx="12" cy="12" r="10" stroke-dasharray="60" stroke-dashoffset="40">
                    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="1s"
                      repeatCount="indefinite" />
                  </circle>
                </svg>
                <svg class="task-complete" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#28a745"
                  stroke-width="2" style="display: none;">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="8 12 11 15 16 9"></polyline>
                </svg>
                <svg class="task-warning" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ffc107"
                  stroke-width="2" style="display: none;">
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="12" y1="8" x2="12" y2="12"></line>
                  <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
              </div>
              <div style="flex: 1;">
                <div style="color: #333; font-weight: 500; margin-bottom: 3px;">Generating Excel export</div>
                <div class="task-status" style="color: #999; font-size: 13px;">Waiting...</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Completion Message (hidden initially) -->
        <div id="publishCompleteMessage"
          style="display: none; margin-top: 20px; padding: 15px; background-color: #d4edda; border: 1px solid #c3e6cb; border-radius: 4px; color: #155724;">
          <div style="display: flex; align-items: center;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              style="margin-right: 10px;">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="8 12 11 15 16 9"></polyline>
            </svg>
            <strong>Version published successfully!</strong>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" id="closePublishProgressBtn" disabled>Close</button>
      </div>
    </div>
  </div>

  <!-- Create Version Confirmation Modal -->
  <div id="createConfirmModal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 550px;">
      <div class="modal-header">
        <h2>Create New Version</h2>
        <span class="close" id="closeCreateConfirm">&times;</span>
      </div>
      <div class="modal-body" style="padding: 20px;">
        <div style="display: flex; align-items: flex-start; margin-bottom: 20px;">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#007bff" stroke-width="2"
            style="margin-right: 15px; flex-shrink: 0;">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
          </svg>
          <div>
            <h3 style="margin: 0 0 10px 0; color: #333;">Confirm New Version Creation</h3>
            <p style="margin: 0 0 10px 0; color: #666; line-height: 1.5;">
              You are about to create a new version: <strong id="createVersionName" style="color: #007bff;"></strong>.
            </p>
            <p style="margin: 0; color: #666; line-height: 1.5;">
              Please note:
            </p>
            <ul style="margin: 10px 0 0 20px; color: #666; line-height: 1.8;">
              <li>This version will become the <strong>current working version</strong> for data editing</li>
              <li>This version will <strong>NOT be immediately visible</strong> to front-end users</li>
              <li>Front-end users will continue to see data from the <strong>published version</strong></li>
              <li>To make this version visible to front-end users, you must <strong>publish it</strong> later</li>
            </ul>
          </div>
        </div>
        <p style="margin: 0 0 20px 0; color: #666; font-size: 14px;">
          Do you want to proceed with creating this version?
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" id="cancelCreate">Cancel</button>
        <button type="button" class="btn btn-primary" id="confirmCreate">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            style="margin-right: 8px;">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
          Yes, Create Version
        </button>
      </div>
    </div>
  </div>

  <!-- Quill.js JavaScript -->
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
  <script src="help-modal.js?v=1"></script>
  <script src="Versioning.js?v=1"></script>
</body>

</html>