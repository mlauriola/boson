# View Common Codes (Public Access)

## Overview

The View Common Codes page is the public-facing interface for accessing published reference data from the Commonwealth Games Glasgow 2026 system. This page provides read-only access to all published Common Codes data without requiring authentication.

## Purpose

This page allows:

- Public access to view published reference data tables
- Downloading complete data exports in Excel and ODF formats
- Viewing release notes and version information
- Checking which tables were modified in the current release

## Key Features

### Public Access

- No login required to view published data
- Clean, simplified interface focused on data viewing
- Access to the most recently published version only
- Restrictions can be temporarily applied by administrators

### Table Selection

- A dropdown menu displays all published tables
- Tables show data from the currently published version
- Each table includes a description explaining its purpose
- Selection updates the data grid automatically

### Release Information

- Release version number displayed in page header
- Release notes shown when no table is selected
- List of modified tables in current release
- Publication date and author information

### Data Grid

The data grid provides read-only access to table contents:

#### Viewing Data
- All published records displayed in sortable table
- Primary key columns highlighted
- Foreign key relationships show descriptions
- Click on any row to select it

#### View Record Details
1. Click on a table row to select it
2. Click the "View Record" button
3. A modal displays all field values for that record
4. Primary keys and system fields are clearly labeled

### Export Functionality

#### Excel Export
1. Click the "Excel" button in the header
2. System checks if export file is available
3. Downloads a complete Excel workbook containing:
   - All visible tables from the published version
   - One worksheet per table (based on RefFoglioExcel configuration)
   - All records with proper formatting
   - Column headers matching database field names
   - Populated from CG2026 template
4. File name format: `EXCELVersion{Release}_Export.xlsx`
   - Example: `EXCELVersion1.0_Export.xlsx`

**What's Included:**
- Only tables with IdRole_View=5 AND HasToBeManaged!=2
- Tables must have matching worksheet names in template
- Only columns present in both Excel and database are populated
- HTML tags stripped from text fields

**If File Not Available:**
- Error message: "The Excel export file is not available at the moment"
- File must be generated by publishing a version first
- Contact administrator if problem persists

**Use Case:** Share complete reference data with external stakeholders, create backups, or perform analysis in Excel.

#### DT_CODES Export
1. Click the "DT_CODES" button in the header
2. System checks if export file is available
3. Downloads a ZIP archive containing:
   - ODF-compliant XML files for all tables
   - One .xml file per table
   - All data in ODF Common Codes Definition format
4. File name format: `DT_CODESVersion{Release}_Export.zip`
   - Example: `DT_CODESVersion1.0_Export.zip`

**If File Not Available:**
- Error message: "The DT_CODES export file is not available at the moment"
- File must be generated by publishing a version first
- Contact administrator if problem persists

**Use Case:** Integration with ODF-compliant systems and results management platforms.

## User Interface Elements

### Release Notes Section

When no table is selected, the page displays:

- **Release Notes**: Formatted message from the published version
- **Modified Tables List**: Tables that changed in this release
- **Version Information**: Release number and publication details

### Data Table Section

When a table is selected:

- **Table Title**: Name of the currently selected table
- **View Record Button**: Opens detail modal for selected row
- **Data Grid**: Scrollable table with all published records
- **Sort Functionality**: Click column headers to sort

## Access Restrictions

### Service Availability

Administrators can temporarily restrict access to ViewCommonCodes:

- **When Restricted**: Page displays unavailability message
- **Custom Message**: Administrator can set a custom restriction message
- **Full Block**: No data or exports available during restriction

### Typical Restriction Scenarios

- During major data updates or migrations
- Scheduled maintenance windows
- Data verification and quality checks
- Pre-publication testing periods

## Tips

1. Use **sort functionality** to organize data by clicking column headers
2. **Excel exports** include all tables - no need to export individually
3. **Release notes** provide context for what changed in current version
4. **Modified tables list** helps identify which data was updated
5. **View Record** details show complete field information
6. **Browser search** (Ctrl+F) works on displayed data
7. Hover over truncated text to see full content in tooltip

## Support

For questions about data accuracy or to request access to the administrative interface:
- Contact the system administrator
- Check the Activity Logs for change history
- Review release notes for version-specific information
- Use the Login button to access the back office (if authorized)
